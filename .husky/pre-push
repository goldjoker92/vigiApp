#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo ""
echo "ğŸ” [husky] pre-push (non-bloquant) ..."

# Check Expo deps (jamais bloquant)
CI=1 npx expo install --check >/dev/null 2>&1 \
  && echo "ğŸ“¦ Expo deps OK" \
  || echo "âš ï¸ Expo deps check a Ã©chouÃ© (ignorÃ©)"

# Lint (non-bloquant)
npm run lint --silent >/dev/null 2>&1 \
  && echo "ğŸ§¹ Lint OK" \
  || echo "âš ï¸ Lint en erreur (ignorÃ©)"

# Tests (non-bloquant)
npm test -- --watchAll=false >/dev/null 2>&1 \
  && echo "ğŸ§ª Tests OK" \
  || echo "âš ï¸ Tests en erreur (ignorÃ©)"

echo "âœ… [husky] tout est non-bloquant. Push autorisÃ©."
